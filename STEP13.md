# 캐싱 사용 목적
자주 조회 되는 데이터에 대해서 데이터베이스에 접근 하지 않고, 앞단에서 조회했던 데이터를 보여주기 위해서 사용
즉, 데이터 조회의 속도를 빠르게 함으로 성능을 향상 시킨다.

# 캐싱을 적용한 기능
**콘서트 예약 가능 날짜 검색** / **콘서트 예약 가능 좌석 정보 조회**

## 캐싱을 적용하는 기준점
캐싱을 적용하기 위해서는 아래와 같은 조건들을 만족하는 지 확인 해봤습니다.
1. 반복적이고 동일한 결과가 나오는 지?
2. 업데이트가 자주 발생하지 않은 지?
3. 자주 조회가 되는 지?

이를 대조해서 서비스 기능을 살펴봅시다.
- 대기열 토큰 발급
- 대기열 토큰 상태 확인
- 콘서트 예약 가능 날짜 검색
- 콘서트 예약 가능 좌석 정보 조회
- 콘서트 예약
- 콘서트 결제
- 사용자 금액 충전
- 사용자 금액 잔액 조회

각각 조건에 대조 해서 캐싱을 사용 하는 것이 적절 한지 확인 해보겠습니다.

- 대기열 토큰 발급 X
  - [2] 토큰 발급은 각 사용자마다 다른 토큰값을 반환해야 하기 떄문에 탈락
- 대기열 토큰 상태 확인 X
  - [1] 사용자의 상태는 자주 바뀌는 정보라서 탈락
- 콘서트 예약 가능 날짜 검색
  - 콘서트 정보가 한번 입력 되면, 자주 바뀌는 정보들은 아니기 때문에 통과 O
- 콘서트 예약 가능 좌석 정보 조회
  - 콘서트 정보와 마찬 가지로 한번 지정된 좌석은 늘어나거나 줄어들 일이 별로 없기 때문에 통과
  - 콘서트 예약 가능 좌석은 `Concert - Concert Item - Seat` 을 조인 하는 정보기 떄문에, 조회 시간이 오래 걸릴 수 있어 더 적합
  - 다만 조건부로 예약 가능 좌석은 사용자의 예약에 따라 좌석이 줄어드는 경우가 발생하기 때문에, 예약 가능한 좌석이 없을 경우에만 캐싱 하는 것이 적합하다고 생각했습니다.
- 콘서트 예약
  - [2] 콘서트 예약은 update가 자주 일어나는 과정이기 떄문에 탈락
- 콘서트 결제
  - [2] 콘서트 결제은 insert가 일어나는 과정이기 떄문에 탈락
- 사용자 금액 충전
  - [2] 사용자 금액 충전은 업데이트가 자주 발생하기 떄문에 탈락
- 사용자 금액 잔액 조회
  - [2, 4] 금액 충전 후, 실시간으로 업데이트가 반영 되어야 하고, 출력값이 일정하지 않다.

# 캐싱 적용
캐싱 적용 방법은 다양하겠지만, 저는 두 가지의 경우를 생각해봤습니다.
Spring Boot에서 제공해주는 Cache와 Redis의 방법

## Spring Boot 기본 Cache
어플리케이션이 실행될때 캐시 공간을 확보하기 떄문에, 어플리케이션이 반대로 죽는 다면, 같이 캐시 데이터가 사라집니다.
물론, Redis를 사용했을 때보다는 개발이 간단 하다고 할 수 있습니다.

결론: 분산 환경에서는 사용할 수 없는 방법으로, 분산 환경에서 사용하기 위해서는 RDBMS(Redis, ..)를 사용해야합니다.